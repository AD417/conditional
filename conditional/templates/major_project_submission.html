{% extends "nav.html" %}
{% block body %}

<div class="container main">
    <h3 class="page-title">Major Project Form</h3>
    <form name="evalform" id="evalForm">
        <div class="panel panel-default">
            <div class="panel-body">
                <div class="form-group label-floating is-empty">
                    <label class="control-label" for="name">Project Name</label>
                    <input class="form-control" id="name" name="name" type="text">
                    <span class="material-input"></span>
                </div>
            </div>
        </div>
        <div class="panel panel-default">
            <div class="panel-body" style="padding-top:20px;">
                <div class="form-group label-floating is-empty">
                    <label class="control-label" for="description">Description</label>
                    <textarea name="description" class="form-control" rows="3" id="description"></textarea>
                    <span class="material-input"></span>
                </div>
            </div>
        </div>
        <button class="btn btn-raised btn-primary" style="width:100%;margin-bottom:20px;" id="submit" type="submit">Submit Major Project</button>
    </form>
    <h3 class="page-title">All Major Projects</h3> {% if major_projects_len
    <=0 %} <div class="panel panel-default">
        <div class="panel-body">
            <p class="text-center">No Pending Major Projects</p>
        </div>
</div>
{% else %}

    {% for p in major_projects %}
    <div class="panel panel-default" id="project-{{p['id']}}" project_id="{{p['id']}}">
        <div class="panel-body">
                <div class="col-xs-8 col-sm-10">
                    <h4>{{p['proj_name']}}</h4>
                    <img class="table_img" src="https://profiles.csh.rit.edu/image/{{p['username']}}">
                    {{p['name']}} ({{p['username']}})
                </div>
                {% if is_eval_director %}
                <div class="col-xs-4 col-sm-2">
                    <div class="btn-group">
                        {% if p['status'] == 'Passed' %}
                        <a href="#" class="btn btn-success dropdown-toggle btn-mp" data-toggle="dropdown" aria-expanded="false">
                        {% elif p['status'] == 'Failed' %}
                        <a href="#" class="btn btn-danger dropdown-toggle btn-mp" data-toggle="dropdown" aria-expanded="false">
                        {% else %}
                        <a href="#" class="btn btn-warning dropdown-toggle btn-mp" data-toggle="dropdown" aria-expanded="false">
                        {% endif %}
                                {{p['status']}}
                                <span class="caret"></span>
                            </a>
                        <ul class="dropdown-menu">
                            <li>
                                <div class="dropdown-list-item" id="pass-{{p['id']}}">Passed</div>
                            </li>
                            <li>
                                <div class="dropdown-list-item" id="fail-{{p['id']}}">Failed</div>
                            </li>
                        </ul>
                    </div>
                    <!--
                        <button role="button" class="btn btn-success" id="pass-{{p['id']}}">
                            Pass
                        </button>
                        <button role="button" class="btn btn-danger" id="fail-{{p['id']}}">
                            Fail
                        </button>
                        -->
                </div>
                {% else %}
                <div class="col-xs-4 col-sm-2">
                    {% if p['status'] == 'Passed' %}
                        <h5 style="padding:15px 20px;float:right"><span class="glyphicon glyphicon-ok green"> </span></h5>
                        {% elif p['status'] == 'Failed' %}
                        <h5 style="padding:15px 20px;float:right"><span class="glyphicon glyphicon-remove red"> </span></h5>
                        {% else %}
                        <h5 style="padding:15px 20px;float:right"><span class="glyphicon glyphicon-hourglass yellow"> </span></h5>
                        {% endif %}
                </div>
                {% endif %}
                <button class="btn-expand-panel" role="button" data-toggle="collapse" href="#evalsCollapse-{{p['id']}}" aria-expanded="false" aria-controls="evalsCollapse-{{p['id']}}"><span class="glyphicon glyphicon glyphicon-menu-down"></span></button>
                <div class="collapse" id="evalsCollapse-{{p['id']}}">
                    {{p['description']}}
                </div>
        </div>
    </div>
    {% endfor %}

{% endif %}

</div>
{% endblock %}
